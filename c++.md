# game server



## 开发语言



golang

c++



## 数据库 

mysql ,mongodb,redis



## 服务端架构



bigworld架构设计

1.**GateServer**: 首先要有一个GateServer(网关)服务器，负责客户端连接及消息转发到Game(游戏服),保持客户端到服务端的连接，没有任何逻辑，只做消息加密和解密，以及客户端和服务器消息的转发(相当于两者之间的桥梁)。

2.**GameServer**: GameServer是游戏进程,提供游戏逻辑功能(采用单进程(或者单线程)模型,游戏服务器的瓶颈从来不在CPU,所以只做逻辑功能的话单线程足够了,在这里没必要用多线程或多进程)。

3.**DBManager**: 实现数据库的读写，方便Game服务器异步读写数据库的数据(有些把数据库读写放在游戏服，没有单独的服务器，那恐怕游戏服单进程就不够用了)。

4.**GameManager**: 负责管理所有的GameServer，GameServer之间消息转发，提供广播到所有Game的功能。



## 协议

http,kcp,udp



## 开发一个游戏服务器需要掌握的开源技术

- Boost：Boost的ASIO是一个异步IO库，封装了对Socket的常用操作，简化了基于socket程序的开发。支持跨平台；

- libevent：是一个C语言写的事件驱动的开源网络库；

- skynet：云风写的 **skynet(c + lua)** 游戏服务器框架，简单好用；

- Muduo：陈硕写的 **Muduo(c++)**，陈硕全程在秀他的c++技术；

  https://github.com/chenshuo/muduo

- KCP： 上面提到过了，主要是对UDP的封装，有兴趣的可以看下;



## 缓存

- memcached:一个高性能的分布式内存对象缓存系统，用于动态Web应用以减轻数据库负载。它通过在内存中缓存数据和对象来减少读取数据库的次数，从而提高动态、数据库驱动网站的速度。可以用来做缓存，比如客户端本来每次操作都需要操作数据库，会严重影响效率，这时在中间加一层缓存系统，就提升了性能。基于http协议的通信用memcached是一个不错的选择，如果是tcp长链接，直接维护一个在线的内存对象就可以了。
- Redis: 和memcached类似，主要的区别在于Redis支持存盘，可以当作数据储存，同时支持多种数据类型，比如ZSET经常用来做游戏排行榜。

